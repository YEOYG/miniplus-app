import{u as D,b as w,c as C,j as a,C as o,P as E,d as k}from"./index-Cwbd59cA.js";import{u as M,r as m}from"./vendor-react-BGoNz5Fc.js";import{b as S,l as R,U as g,m as U,B as P,d as F,n as z,o as I,F as L,Q}from"./vendor-ui-Bqs3IicT.js";import"./vendor-supabase-fHMDFEO1.js";function $(){const p=M(),{userRole:u,profile:n,user:s}=D(),[i,f]=m.useState([]),[v,x]=m.useState(!0),[N,b]=m.useState(!1),[A,d]=m.useState(!1),[e,c]=m.useState({name:"",relationship:"家人",gender:""}),y=u==="admin";m.useEffect(()=>{h()},[s]);async function h(){if(s){x(!0);try{const t=await w(s.id),l=await Promise.all((t||[]).map(async r=>{try{const B=await C(r.id);return{...r,calories:B.calories,goal:(n==null?void 0:n.daily_calorie_goal)||2e3}}catch{return{...r,calories:0,goal:2e3}}}));f(l)}catch(t){console.error("加载成员失败:",t)}finally{x(!1)}}}async function j(){if(!(!s||!e.name))try{await k({userId:s.id,name:e.name,relationship:e.relationship,gender:e.gender,isPrimary:i.length===0}),d(!1),c({name:"",relationship:"家人",gender:""}),h()}catch(t){console.error("添加成员失败:",t),alert("添加失败，请重试")}}return v?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]","data-matrix-id":"src/pages/Family.tsx:83:6","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"83","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20min-h-%5B60vh%5D%22%7D",children:a.jsx(S,{className:"w-8 h-8 text-primary-500 animate-spin","data-matrix-id":"src/pages/Family.tsx:84:8","data-matrix-name":"Loader2","data-component-path":"src/pages/Family.tsx","data-component-line":"84","data-component-file":"Family.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary-500%20animate-spin%22%7D"})}):a.jsxs("div",{className:"px-4 pt-4 space-y-4","data-matrix-id":"src/pages/Family.tsx:90:4","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"90","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20pt-4%20space-y-4%22%7D",children:[a.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/Family.tsx:92:6","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"92","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/Family.tsx:93:8","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"93","data-component-file":"Family.tsx","data-component-name":"div",children:[a.jsx("h1",{className:"text-heading-lg text-neutral-900","data-matrix-id":"src/pages/Family.tsx:94:10","data-matrix-name":"h1","data-component-path":"src/pages/Family.tsx","data-component-line":"94","data-component-file":"Family.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-heading-lg%20text-neutral-900%22%7D",children:"我的家庭"}),a.jsx("p",{className:"text-body-sm text-neutral-500","data-matrix-id":"src/pages/Family.tsx:95:10","data-matrix-name":"p","data-component-path":"src/pages/Family.tsx","data-component-line":"95","data-component-file":"Family.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-body-sm%20text-neutral-500%22%7D",children:y?"管理家庭成员和健康目标":"查看家庭健康数据"})]}),a.jsx("button",{onClick:()=>d(!0),className:"w-10 h-10 bg-primary-50 rounded-full flex items-center justify-center","data-matrix-id":"src/pages/Family.tsx:99:8","data-matrix-name":"button","data-component-path":"src/pages/Family.tsx","data-component-line":"99","data-component-file":"Family.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-10%20h-10%20bg-primary-50%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:a.jsx(R,{className:"w-5 h-5 text-primary-500","data-matrix-id":"src/pages/Family.tsx:103:10","data-matrix-name":"UserPlus","data-component-path":"src/pages/Family.tsx","data-component-line":"103","data-component-file":"Family.tsx","data-component-name":"UserPlus","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary-500%22%7D"})})]}),a.jsx(o,{variant:"elevated",className:"bg-gradient-to-br from-primary-50 to-white","data-matrix-id":"src/pages/Family.tsx:108:6","data-matrix-name":"Card","data-component-path":"src/pages/Family.tsx","data-component-line":"108","data-component-file":"Family.tsx","data-component-name":"Card","data-component-content":"%7B%22variant%22%3A%22elevated%22%2C%22className%22%3A%22bg-gradient-to-br%20from-primary-50%20to-white%22%7D",children:a.jsxs("div",{className:"flex items-center gap-4","data-matrix-id":"src/pages/Family.tsx:109:8","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"109","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-4%22%7D",children:[a.jsx("div",{className:"w-16 h-16 bg-primary-500 rounded-2xl flex items-center justify-center","data-matrix-id":"src/pages/Family.tsx:110:10","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"110","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20bg-primary-500%20rounded-2xl%20flex%20items-center%20justify-center%22%7D",children:a.jsx(g,{className:"w-8 h-8 text-white","data-matrix-id":"src/pages/Family.tsx:111:12","data-matrix-name":"Users","data-component-path":"src/pages/Family.tsx","data-component-line":"111","data-component-file":"Family.tsx","data-component-name":"Users","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-white%22%7D"})}),a.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/Family.tsx:113:10","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"113","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[a.jsxs("h2",{className:"text-heading-md text-neutral-900","data-matrix-id":"src/pages/Family.tsx:114:12","data-matrix-name":"h2","data-component-path":"src/pages/Family.tsx","data-component-line":"114","data-component-file":"Family.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-heading-md%20text-neutral-900%22%7D",children:[(n==null?void 0:n.nickname)||"我","的家庭"]}),a.jsxs("p",{className:"text-body-sm text-neutral-500","data-matrix-id":"src/pages/Family.tsx:115:12","data-matrix-name":"p","data-component-path":"src/pages/Family.tsx","data-component-line":"115","data-component-file":"Family.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-body-sm%20text-neutral-500%22%7D",children:[i.length,"位成员"]})]}),y&&a.jsx("button",{className:"text-neutral-400 hover:text-neutral-600","data-matrix-id":"src/pages/Family.tsx:118:12","data-matrix-name":"button","data-component-path":"src/pages/Family.tsx","data-component-line":"118","data-component-file":"Family.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22text-neutral-400%20hover%3Atext-neutral-600%22%7D",children:a.jsx(U,{className:"w-5 h-5","data-matrix-id":"src/pages/Family.tsx:119:14","data-matrix-name":"Settings","data-component-path":"src/pages/Family.tsx","data-component-line":"119","data-component-file":"Family.tsx","data-component-name":"Settings","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})})]})}),a.jsx(o,{variant:"elevated",className:"cursor-pointer active:scale-98 transition-transform",onClick:()=>p("/family/nutrition"),"data-matrix-id":"src/pages/Family.tsx:126:6","data-matrix-name":"Card","data-component-path":"src/pages/Family.tsx","data-component-line":"126","data-component-file":"Family.tsx","data-component-name":"Card","data-component-content":"%7B%22variant%22%3A%22elevated%22%2C%22className%22%3A%22cursor-pointer%20active%3Ascale-98%20transition-transform%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:a.jsxs("div",{className:"flex items-center gap-4","data-matrix-id":"src/pages/Family.tsx:131:8","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"131","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-4%22%7D",children:[a.jsx("div",{className:"w-12 h-12 bg-nutrient-protein/10 rounded-xl flex items-center justify-center","data-matrix-id":"src/pages/Family.tsx:132:10","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"132","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20bg-nutrient-protein%2F10%20rounded-xl%20flex%20items-center%20justify-center%22%7D",children:a.jsx(P,{className:"w-6 h-6 text-nutrient-protein","data-matrix-id":"src/pages/Family.tsx:133:12","data-matrix-name":"BarChart3","data-component-path":"src/pages/Family.tsx","data-component-line":"133","data-component-file":"Family.tsx","data-component-name":"BarChart3","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20text-nutrient-protein%22%7D"})}),a.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/Family.tsx:135:10","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"135","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[a.jsx("h3",{className:"text-heading-sm text-neutral-900","data-matrix-id":"src/pages/Family.tsx:136:12","data-matrix-name":"h3","data-component-path":"src/pages/Family.tsx","data-component-line":"136","data-component-file":"Family.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-heading-sm%20text-neutral-900%22%7D",children:"营养概览"}),a.jsx("p",{className:"text-body-sm text-neutral-500","data-matrix-id":"src/pages/Family.tsx:137:12","data-matrix-name":"p","data-component-path":"src/pages/Family.tsx","data-component-line":"137","data-component-file":"Family.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-body-sm%20text-neutral-500%22%7D",children:"查看全家营养状况分析"})]}),a.jsx(F,{className:"w-5 h-5 text-neutral-400","data-matrix-id":"src/pages/Family.tsx:139:10","data-matrix-name":"ChevronRight","data-component-path":"src/pages/Family.tsx","data-component-line":"139","data-component-file":"Family.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-neutral-400%22%7D"})]})}),a.jsxs(o,{variant:"elevated","data-matrix-id":"src/pages/Family.tsx:144:6","data-matrix-name":"Card","data-component-path":"src/pages/Family.tsx","data-component-line":"144","data-component-file":"Family.tsx","data-component-name":"Card","data-component-content":"%7B%22variant%22%3A%22elevated%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4","data-matrix-id":"src/pages/Family.tsx:145:8","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"145","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%20mb-4%22%7D",children:[a.jsx(z,{className:"w-5 h-5 text-primary-500","data-matrix-id":"src/pages/Family.tsx:146:10","data-matrix-name":"Target","data-component-path":"src/pages/Family.tsx","data-component-line":"146","data-component-file":"Family.tsx","data-component-name":"Target","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-primary-500%22%7D"}),a.jsx("h3",{className:"text-heading-sm text-neutral-900","data-matrix-id":"src/pages/Family.tsx:147:10","data-matrix-name":"h3","data-component-path":"src/pages/Family.tsx","data-component-line":"147","data-component-file":"Family.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-heading-sm%20text-neutral-900%22%7D",children:"家庭健康目标"})]}),a.jsxs("div",{className:"bg-primary-50 rounded-xl p-4","data-matrix-id":"src/pages/Family.tsx:149:8","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"149","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-primary-50%20rounded-xl%20p-4%22%7D",children:[a.jsx("p",{className:"text-body-md text-neutral-700","data-matrix-id":"src/pages/Family.tsx:150:10","data-matrix-name":"p","data-component-path":"src/pages/Family.tsx","data-component-line":"150","data-component-file":"Family.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-body-md%20text-neutral-700%22%7D",children:"本月目标：全家人均每日蔬菜摄入量达到 500g，减少外卖次数"}),a.jsxs("div",{className:"mt-3 flex items-center justify-between","data-matrix-id":"src/pages/Family.tsx:153:10","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"153","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-3%20flex%20items-center%20justify-between%22%7D",children:[a.jsx("span",{className:"text-body-sm text-neutral-500","data-matrix-id":"src/pages/Family.tsx:154:12","data-matrix-name":"span","data-component-path":"src/pages/Family.tsx","data-component-line":"154","data-component-file":"Family.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-body-sm%20text-neutral-500%22%7D",children:"完成进度"}),a.jsx("span",{className:"text-body-sm text-primary-500 font-medium","data-matrix-id":"src/pages/Family.tsx:155:12","data-matrix-name":"span","data-component-path":"src/pages/Family.tsx","data-component-line":"155","data-component-file":"Family.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-body-sm%20text-primary-500%20font-medium%22%7D",children:"68%"})]}),a.jsx("div",{className:"mt-2 h-2 bg-white rounded-full overflow-hidden","data-matrix-id":"src/pages/Family.tsx:157:10","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"157","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-2%20h-2%20bg-white%20rounded-full%20overflow-hidden%22%7D",children:a.jsx("div",{className:"h-full w-[68%] bg-primary-500 rounded-full","data-matrix-id":"src/pages/Family.tsx:158:12","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"158","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20w-%5B68%25%5D%20bg-primary-500%20rounded-full%22%7D"})})]})]}),a.jsxs("div",{className:"space-y-3","data-matrix-id":"src/pages/Family.tsx:164:6","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"164","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[a.jsx("h3",{className:"text-heading-sm text-neutral-900","data-matrix-id":"src/pages/Family.tsx:165:8","data-matrix-name":"h3","data-component-path":"src/pages/Family.tsx","data-component-line":"165","data-component-file":"Family.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-heading-sm%20text-neutral-900%22%7D",children:"家庭成员"}),i.length===0?a.jsxs(o,{variant:"elevated",className:"text-center py-8","data-matrix-id":"src/pages/Family.tsx:168:10","data-matrix-name":"Card","data-component-path":"src/pages/Family.tsx","data-component-line":"168","data-component-file":"Family.tsx","data-component-name":"Card","data-component-content":"%7B%22variant%22%3A%22elevated%22%2C%22className%22%3A%22text-center%20py-8%22%7D",children:[a.jsx(g,{className:"w-12 h-12 text-neutral-300 mx-auto mb-3","data-matrix-id":"src/pages/Family.tsx:169:12","data-matrix-name":"Users","data-component-path":"src/pages/Family.tsx","data-component-line":"169","data-component-file":"Family.tsx","data-component-name":"Users","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-neutral-300%20mx-auto%20mb-3%22%7D"}),a.jsx("p",{className:"text-neutral-500 mb-4","data-matrix-id":"src/pages/Family.tsx:170:12","data-matrix-name":"p","data-component-path":"src/pages/Family.tsx","data-component-line":"170","data-component-file":"Family.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%20mb-4%22%7D",children:"还没有添加家庭成员"}),a.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-primary-500 text-white rounded-full text-body-sm","data-matrix-id":"src/pages/Family.tsx:171:12","data-matrix-name":"button","data-component-path":"src/pages/Family.tsx","data-component-line":"171","data-component-file":"Family.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-primary-500%20text-white%20rounded-full%20text-body-sm%22%7D",children:"添加成员"})]}):i.map(t=>a.jsx(o,{variant:"elevated",className:"active:scale-98 transition-transform cursor-pointer",onClick:()=>p(`/family/member/${t.id}`),"data-matrix-id":"src/pages/Family.tsx:180:12","data-matrix-name":"Card","data-component-path":"src/pages/Family.tsx","data-component-line":"180","data-component-file":"Family.tsx","data-component-name":"Card","data-component-content":"%7B%22variant%22%3A%22elevated%22%2C%22className%22%3A%22active%3Ascale-98%20transition-transform%20cursor-pointer%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:a.jsxs("div",{className:"flex items-center gap-4","data-matrix-id":"src/pages/Family.tsx:186:14","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"186","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-4%22%7D",children:[a.jsxs("div",{className:"relative","data-matrix-id":"src/pages/Family.tsx:187:16","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"187","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center","data-matrix-id":"src/pages/Family.tsx:188:18","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"188","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20bg-primary-100%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:a.jsx("span",{className:"text-primary-700 font-semibold text-heading-sm","data-matrix-id":"src/pages/Family.tsx:189:20","data-matrix-name":"span","data-component-path":"src/pages/Family.tsx","data-component-line":"189","data-component-file":"Family.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-primary-700%20font-semibold%20text-heading-sm%22%7D",children:t.name[0]})}),t.is_primary&&a.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-semantic-warning rounded-full flex items-center justify-center","data-matrix-id":"src/pages/Family.tsx:194:20","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"194","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20-top-1%20-right-1%20w-5%20h-5%20bg-semantic-warning%20rounded-full%20flex%20items-center%20justify-center%22%7D",children:a.jsx(I,{className:"w-3 h-3 text-white","data-matrix-id":"src/pages/Family.tsx:195:22","data-matrix-name":"Crown","data-component-path":"src/pages/Family.tsx","data-component-line":"195","data-component-file":"Family.tsx","data-component-name":"Crown","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20text-white%22%7D"})})]}),a.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/Family.tsx:199:16","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"199","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[a.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/pages/Family.tsx:200:18","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"200","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[a.jsx("span",{className:"text-heading-sm text-neutral-900","data-matrix-id":"src/pages/Family.tsx:201:20","data-matrix-name":"span","data-component-path":"src/pages/Family.tsx","data-component-line":"201","data-component-file":"Family.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-heading-sm%20text-neutral-900%22%7D",children:t.name}),a.jsx("span",{className:"text-caption text-neutral-400","data-matrix-id":"src/pages/Family.tsx:202:20","data-matrix-name":"span","data-component-path":"src/pages/Family.tsx","data-component-line":"202","data-component-file":"Family.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-caption%20text-neutral-400%22%7D",children:t.relationship})]}),a.jsxs("div",{className:"flex items-center gap-1 text-body-sm text-neutral-500","data-matrix-id":"src/pages/Family.tsx:204:18","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"204","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-1%20text-body-sm%20text-neutral-500%22%7D",children:[a.jsx(L,{className:"w-4 h-4 text-nutrient-carbs","data-matrix-id":"src/pages/Family.tsx:205:20","data-matrix-name":"Flame","data-component-path":"src/pages/Family.tsx","data-component-line":"205","data-component-file":"Family.tsx","data-component-name":"Flame","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20text-nutrient-carbs%22%7D"}),a.jsxs("span",{"data-matrix-id":"src/pages/Family.tsx:206:20","data-matrix-name":"span","data-component-path":"src/pages/Family.tsx","data-component-line":"206","data-component-file":"Family.tsx","data-component-name":"span",children:["今日 ",t.calories||0,"/",t.goal||2e3," kcal"]})]})]}),a.jsx(E,{progress:(t.calories||0)/(t.goal||2e3)*100,size:44,strokeWidth:4,"data-matrix-id":"src/pages/Family.tsx:209:16","data-matrix-name":"ProgressRing","data-component-path":"src/pages/Family.tsx","data-component-line":"209","data-component-file":"Family.tsx","data-component-name":"ProgressRing","data-component-content":"%7B%22progress%22%3A%22%5BBinaryExpression%5D%22%2C%22size%22%3A44%2C%22strokeWidth%22%3A4%7D",children:a.jsxs("span",{className:"text-caption text-neutral-600","data-matrix-id":"src/pages/Family.tsx:214:18","data-matrix-name":"span","data-component-path":"src/pages/Family.tsx","data-component-line":"214","data-component-file":"Family.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-caption%20text-neutral-600%22%7D",children:[Math.round((t.calories||0)/(t.goal||2e3)*100),"%"]})}),a.jsx(F,{className:"w-5 h-5 text-neutral-400","data-matrix-id":"src/pages/Family.tsx:218:16","data-matrix-name":"ChevronRight","data-component-path":"src/pages/Family.tsx","data-component-line":"218","data-component-file":"Family.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-neutral-400%22%7D"})]})},t.id))]}),N&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end justify-center","data-matrix-id":"src/pages/Family.tsx:227:8","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"227","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20z-50%20flex%20items-end%20justify-center%22%7D",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-t-3xl p-6 animate-slide-up","data-matrix-id":"src/pages/Family.tsx:228:10","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"228","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20w-full%20max-w-lg%20rounded-t-3xl%20p-6%20animate-slide-up%22%7D",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6","data-matrix-id":"src/pages/Family.tsx:229:12","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"229","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-6%22%7D",children:[a.jsx("h3",{className:"text-heading-md text-neutral-900","data-matrix-id":"src/pages/Family.tsx:230:14","data-matrix-name":"h3","data-component-path":"src/pages/Family.tsx","data-component-line":"230","data-component-file":"Family.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-heading-md%20text-neutral-900%22%7D",children:"邀请成员"}),a.jsx("button",{onClick:()=>b(!1),className:"text-neutral-400 hover:text-neutral-600","data-matrix-id":"src/pages/Family.tsx:231:14","data-matrix-name":"button","data-component-path":"src/pages/Family.tsx","data-component-line":"231","data-component-file":"Family.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-neutral-400%20hover%3Atext-neutral-600%22%7D",children:"关闭"})]}),a.jsxs("div",{className:"flex flex-col items-center py-8","data-matrix-id":"src/pages/Family.tsx:238:12","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"238","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20py-8%22%7D",children:[a.jsx("div",{className:"w-48 h-48 bg-neutral-100 rounded-2xl flex items-center justify-center mb-4","data-matrix-id":"src/pages/Family.tsx:239:14","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"239","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-48%20h-48%20bg-neutral-100%20rounded-2xl%20flex%20items-center%20justify-center%20mb-4%22%7D",children:a.jsx(Q,{className:"w-24 h-24 text-neutral-400","data-matrix-id":"src/pages/Family.tsx:240:16","data-matrix-name":"QrCode","data-component-path":"src/pages/Family.tsx","data-component-line":"240","data-component-file":"Family.tsx","data-component-name":"QrCode","data-component-content":"%7B%22className%22%3A%22w-24%20h-24%20text-neutral-400%22%7D"})}),a.jsx("p",{className:"text-body-md text-neutral-600 text-center","data-matrix-id":"src/pages/Family.tsx:242:14","data-matrix-name":"p","data-component-path":"src/pages/Family.tsx","data-component-line":"242","data-component-file":"Family.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-body-md%20text-neutral-600%20text-center%22%7D",children:"让家人扫描二维码加入家庭"}),a.jsxs("p",{className:"text-body-sm text-neutral-400 mt-2","data-matrix-id":"src/pages/Family.tsx:245:14","data-matrix-name":"p","data-component-path":"src/pages/Family.tsx","data-component-line":"245","data-component-file":"Family.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-body-sm%20text-neutral-400%20mt-2%22%7D",children:["邀请码: FAMILY",Date.now().toString().slice(-6)]})]}),a.jsx("button",{className:"w-full h-12 bg-primary-500 text-white rounded-full font-semibold","data-matrix-id":"src/pages/Family.tsx:249:12","data-matrix-name":"button","data-component-path":"src/pages/Family.tsx","data-component-line":"249","data-component-file":"Family.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22w-full%20h-12%20bg-primary-500%20text-white%20rounded-full%20font-semibold%22%7D",children:"复制邀请链接"})]})}),A&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end justify-center","data-matrix-id":"src/pages/Family.tsx:258:8","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"258","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20z-50%20flex%20items-end%20justify-center%22%7D",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-t-3xl p-6","data-matrix-id":"src/pages/Family.tsx:259:10","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"259","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-white%20w-full%20max-w-lg%20rounded-t-3xl%20p-6%22%7D",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6","data-matrix-id":"src/pages/Family.tsx:260:12","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"260","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-6%22%7D",children:[a.jsx("h3",{className:"text-heading-md text-neutral-900","data-matrix-id":"src/pages/Family.tsx:261:14","data-matrix-name":"h3","data-component-path":"src/pages/Family.tsx","data-component-line":"261","data-component-file":"Family.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-heading-md%20text-neutral-900%22%7D",children:"添加家庭成员"}),a.jsx("button",{onClick:()=>d(!1),className:"text-neutral-400 hover:text-neutral-600","data-matrix-id":"src/pages/Family.tsx:262:14","data-matrix-name":"button","data-component-path":"src/pages/Family.tsx","data-component-line":"262","data-component-file":"Family.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-neutral-400%20hover%3Atext-neutral-600%22%7D",children:"关闭"})]}),a.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/Family.tsx:270:12","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"270","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[a.jsxs("div",{"data-matrix-id":"src/pages/Family.tsx:271:14","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"271","data-component-file":"Family.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-body-sm text-neutral-600 mb-1","data-matrix-id":"src/pages/Family.tsx:272:16","data-matrix-name":"label","data-component-path":"src/pages/Family.tsx","data-component-line":"272","data-component-file":"Family.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-body-sm%20text-neutral-600%20mb-1%22%7D",children:"姓名"}),a.jsx("input",{type:"text",value:e.name,onChange:t=>c({...e,name:t.target.value}),className:"w-full h-12 px-4 rounded-lg border border-neutral-200 focus:border-primary-500 outline-none",placeholder:"成员姓名","data-matrix-id":"src/pages/Family.tsx:273:16","data-matrix-name":"input","data-component-path":"src/pages/Family.tsx","data-component-line":"273","data-component-file":"Family.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-12%20px-4%20rounded-lg%20border%20border-neutral-200%20focus%3Aborder-primary-500%20outline-none%22%2C%22placeholder%22%3A%22%E6%88%90%E5%91%98%E5%A7%93%E5%90%8D%22%7D"})]}),a.jsxs("div",{"data-matrix-id":"src/pages/Family.tsx:281:14","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"281","data-component-file":"Family.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-body-sm text-neutral-600 mb-1","data-matrix-id":"src/pages/Family.tsx:282:16","data-matrix-name":"label","data-component-path":"src/pages/Family.tsx","data-component-line":"282","data-component-file":"Family.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-body-sm%20text-neutral-600%20mb-1%22%7D",children:"关系"}),a.jsxs("select",{value:e.relationship,onChange:t=>c({...e,relationship:t.target.value}),className:"w-full h-12 px-4 rounded-lg border border-neutral-200 focus:border-primary-500 outline-none bg-white","data-matrix-id":"src/pages/Family.tsx:283:16","data-matrix-name":"select","data-component-path":"src/pages/Family.tsx","data-component-line":"283","data-component-file":"Family.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20h-12%20px-4%20rounded-lg%20border%20border-neutral-200%20focus%3Aborder-primary-500%20outline-none%20bg-white%22%7D",children:[a.jsx("option",{value:"本人","data-matrix-id":"src/pages/Family.tsx:288:18","data-matrix-name":"option","data-component-path":"src/pages/Family.tsx","data-component-line":"288","data-component-file":"Family.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%E6%9C%AC%E4%BA%BA%22%7D",children:"本人"}),a.jsx("option",{value:"配偶","data-matrix-id":"src/pages/Family.tsx:289:18","data-matrix-name":"option","data-component-path":"src/pages/Family.tsx","data-component-line":"289","data-component-file":"Family.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%E9%85%8D%E5%81%B6%22%7D",children:"配偶"}),a.jsx("option",{value:"父母","data-matrix-id":"src/pages/Family.tsx:290:18","data-matrix-name":"option","data-component-path":"src/pages/Family.tsx","data-component-line":"290","data-component-file":"Family.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%E7%88%B6%E6%AF%8D%22%7D",children:"父母"}),a.jsx("option",{value:"子女","data-matrix-id":"src/pages/Family.tsx:291:18","data-matrix-name":"option","data-component-path":"src/pages/Family.tsx","data-component-line":"291","data-component-file":"Family.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%E5%AD%90%E5%A5%B3%22%7D",children:"子女"}),a.jsx("option",{value:"家人","data-matrix-id":"src/pages/Family.tsx:292:18","data-matrix-name":"option","data-component-path":"src/pages/Family.tsx","data-component-line":"292","data-component-file":"Family.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%E5%AE%B6%E4%BA%BA%22%7D",children:"其他家人"})]})]}),a.jsxs("div",{"data-matrix-id":"src/pages/Family.tsx:295:14","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"295","data-component-file":"Family.tsx","data-component-name":"div",children:[a.jsx("label",{className:"block text-body-sm text-neutral-600 mb-1","data-matrix-id":"src/pages/Family.tsx:296:16","data-matrix-name":"label","data-component-path":"src/pages/Family.tsx","data-component-line":"296","data-component-file":"Family.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-body-sm%20text-neutral-600%20mb-1%22%7D",children:"性别"}),a.jsx("div",{className:"flex gap-4","data-matrix-id":"src/pages/Family.tsx:297:16","data-matrix-name":"div","data-component-path":"src/pages/Family.tsx","data-component-line":"297","data-component-file":"Family.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-4%22%7D",children:["male","female"].map(t=>a.jsxs("label",{className:"flex items-center gap-2","data-matrix-id":"src/pages/Family.tsx:299:20","data-matrix-name":"label","data-component-path":"src/pages/Family.tsx","data-component-line":"299","data-component-file":"Family.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[a.jsx("input",{type:"radio",name:"gender",value:t,checked:e.gender===t,onChange:l=>c({...e,gender:l.target.value}),className:"accent-primary-500","data-matrix-id":"src/pages/Family.tsx:300:22","data-matrix-name":"input","data-component-path":"src/pages/Family.tsx","data-component-line":"300","data-component-file":"Family.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22radio%22%2C%22name%22%3A%22gender%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22checked%22%3A%22%5BBinaryExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22accent-primary-500%22%7D"}),a.jsx("span",{"data-matrix-id":"src/pages/Family.tsx:308:22","data-matrix-name":"span","data-component-path":"src/pages/Family.tsx","data-component-line":"308","data-component-file":"Family.tsx","data-component-name":"span",children:t==="male"?"男":"女"})]},t))})]})]}),a.jsx("button",{onClick:j,disabled:!e.name,className:"w-full h-12 bg-primary-500 text-white rounded-full font-semibold mt-6 disabled:bg-neutral-300","data-matrix-id":"src/pages/Family.tsx:315:12","data-matrix-name":"button","data-component-path":"src/pages/Family.tsx","data-component-line":"315","data-component-file":"Family.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BUnaryExpression%5D%22%2C%22className%22%3A%22w-full%20h-12%20bg-primary-500%20text-white%20rounded-full%20font-semibold%20mt-6%20disabled%3Abg-neutral-300%22%7D",children:"添加成员"})]})})]})}export{$ as default};
