import{u as W,U as J,V as K,j as t,C as A,W as G}from"./index-Cwbd59cA.js";import{r as i,h as Q,u as Y}from"./vendor-react-BGoNz5Fc.js";import{b as Z,K as tt,A as at,a3 as et,a4 as nt,F as q,a5 as z,C as ot,a6 as st,M as it,a7 as O,a8 as ct,a9 as mt}from"./vendor-ui-Bqs3IicT.js";import"./vendor-supabase-fHMDFEO1.js";function dt(u={}){const{onCommand:h,lang:f="zh-CN"}=u,[D,b]=i.useState(!1),[s,v]=i.useState(!1),[d,y]=i.useState(""),[k,w]=i.useState(!0),m=i.useRef(null),l=i.useRef(null);i.useEffect(()=>{const C=window.SpeechRecognition||window.webkitSpeechRecognition;if(!C){w(!1);return}return m.current=new C,m.current.continuous=!1,m.current.interimResults=!1,m.current.lang=f,m.current.onresult=a=>{const r=a.results[0][0].transcript;y(r),h==null||h(r)},m.current.onend=()=>{b(!1)},m.current.onerror=()=>{b(!1)},l.current=window.speechSynthesis,()=>{m.current&&m.current.stop(),l.current&&l.current.cancel()}},[f,h]);const g=i.useCallback(()=>{if(!(!k||!m.current))try{m.current.start(),b(!0),y("")}catch(C){console.error("语音识别启动失败:",C)}},[k]),S=i.useCallback(()=>{m.current&&(m.current.stop(),b(!1))},[]),B=i.useCallback((C,a=1)=>{if(!l.current)return;l.current.cancel();const r=new SpeechSynthesisUtterance(C);r.lang=f,r.rate=a,r.pitch=1,r.onstart=()=>v(!0),r.onend=()=>v(!1),r.onerror=()=>v(!1),l.current.speak(r)},[f]),T=i.useCallback(()=>{l.current&&(l.current.cancel(),v(!1))},[]),x=i.useCallback(C=>{const a=C.toLowerCase();return a.includes("开始")||a.includes("继续")?{type:"start"}:a.includes("暂停")||a.includes("停止")?{type:"pause"}:a.includes("下一步")||a.includes("下一个")?{type:"next"}:a.includes("重复")||a.includes("再说一遍")?{type:"repeat"}:a.includes("多久")||a.includes("还有")?{type:"query",target:"time"}:a.includes("温度")?{type:"query",target:"temperature"}:null},[]);return{isListening:D,isSpeaking:s,transcript:d,supported:k,startListening:g,stopListening:S,speak:B,stopSpeaking:T,parseCommand:x}}function gt(){var R,V;const{id:u}=Q(),h=Y(),{user:f}=W(),[D,b]=i.useState(!0),[s,v]=i.useState(null),[d,y]=i.useState({left:{active:!1,remainingTime:0},right:{active:!1,remainingTime:0}}),[k,w]=i.useState(0),[m,l]=i.useState(!1),[g,S]=i.useState(!0),[B,T]=i.useState(0),x=i.useRef(null),C=i.useCallback(e=>{const n=a.parseCommand(e);if(n)switch(n.type){case"start":F();break;case"pause":M();break;case"next":_();break;case"repeat":E();break;case"query":if(n.target==="time"){const o=((s==null?void 0:s.total_duration)||0)-k;a.speak(`还需要约${Math.ceil(o)}分钟`)}break}},[s,k]),a=dt({onCommand:C});i.useEffect(()=>(u&&r(),()=>{x.current&&clearInterval(x.current)}),[u]);async function r(){var e,n;try{if(u!=null&&u.startsWith("temp-")){const c=localStorage.getItem(`cooking-session-${u}`);if(c){const N=JSON.parse(c);v({id:N.id,user_id:(f==null?void 0:f.id)||"",name:`烹饪会话 ${new Date().toLocaleString("zh-CN")}`,recipes:((e=N.recipes)==null?void 0:e.map(j=>j.id))||[],scheduled_dishes:N.scheduled_dishes||[],status:"pending",total_duration:((n=N.scheduled_dishes)==null?void 0:n.reduce((j,p)=>Math.max(j,(p.startTime||0)+(p.duration||30)),0))||30,created_at:N.created_at}),b(!1);return}}const o=await J(u);v(o),(o==null?void 0:o.status)==="cooking"&&(L(),$(o.scheduled_dishes||[],0))}catch(o){console.error("加载会话失败:",o)}finally{b(!1)}}function L(){x.current&&clearInterval(x.current),x.current=setInterval(()=>{w(e=>{const n=e+1;return s&&$(s.scheduled_dishes||[],n),n})},6e4)}function $(e,n){var N,j;const o=e.find(p=>p.equipment==="left"&&p.startTime<=n&&p.startTime+p.duration>n),c=e.find(p=>p.equipment==="right"&&p.startTime<=n&&p.startTime+p.duration>n);y({left:{active:!!o,recipeName:o==null?void 0:o.recipeName,remainingTime:o?o.startTime+o.duration-n:0,currentTask:(N=o==null?void 0:o.tasks)==null?void 0:N[0]},right:{active:!!c,recipeName:c==null?void 0:c.recipeName,remainingTime:c?c.startTime+c.duration-n:0,currentTask:(j=c==null?void 0:c.tasks)==null?void 0:j[0]}})}async function F(){!s||s.status==="cooking"||(l(!1),await K(s.id),r(),L(),g&&a.speak("烹饪开始，请按照步骤操作"))}function M(){l(!0),x.current&&clearInterval(x.current),g&&a.speak("烹饪已暂停")}function H(){l(!1),L(),g&&a.speak("继续烹饪")}function _(){T(e=>e+1),E()}function E(){var o;if(!g)return;const n=((s==null?void 0:s.scheduled_dishes)||[]).find(c=>c.status==="cooking"||c.status==="pending");if((o=n==null?void 0:n.tasks)!=null&&o[B]){const c=n.tasks[B];a.speak(`当前步骤：${c.name}，预计${c.duration}分钟`)}}async function X(){s&&(await G(s.id),x.current&&clearInterval(x.current),g&&a.speak("恭喜，所有菜品已完成"),h("/cooking/history"))}if(D)return t.jsx("div",{className:"flex items-center justify-center min-h-[60vh]","data-matrix-id":"src/pages/CookingConsole.tsx:194:6","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"194","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20min-h-%5B60vh%5D%22%7D",children:t.jsx(Z,{className:"w-8 h-8 text-primary-500 animate-spin","data-matrix-id":"src/pages/CookingConsole.tsx:195:8","data-matrix-name":"Loader2","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"195","data-component-file":"CookingConsole.tsx","data-component-name":"Loader2","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-primary-500%20animate-spin%22%7D"})});if(!s)return t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4","data-matrix-id":"src/pages/CookingConsole.tsx:202:6","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"202","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20justify-center%20min-h-%5B60vh%5D%20gap-4%22%7D",children:[t.jsx(tt,{className:"w-12 h-12 text-neutral-400","data-matrix-id":"src/pages/CookingConsole.tsx:203:8","data-matrix-name":"AlertCircle","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"203","data-component-file":"CookingConsole.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20text-neutral-400%22%7D"}),t.jsx("p",{className:"text-neutral-500","data-matrix-id":"src/pages/CookingConsole.tsx:204:8","data-matrix-name":"p","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"204","data-component-file":"CookingConsole.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-neutral-500%22%7D",children:"烹饪会话不存在"})]});const I=s.total_duration||60,P=Math.min(100,k/I*100),U=Math.max(0,I-k);return t.jsxs("div",{className:"pb-32 bg-neutral-900 min-h-screen text-white","data-matrix-id":"src/pages/CookingConsole.tsx:214:4","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"214","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22pb-32%20bg-neutral-900%20min-h-screen%20text-white%22%7D",children:[t.jsxs("div",{className:"sticky top-0 bg-neutral-900 z-10 px-4 py-3 flex items-center gap-3 border-b border-neutral-800","data-matrix-id":"src/pages/CookingConsole.tsx:216:6","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"216","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22sticky%20top-0%20bg-neutral-900%20z-10%20px-4%20py-3%20flex%20items-center%20gap-3%20border-b%20border-neutral-800%22%7D",children:[t.jsx("button",{onClick:()=>h(-1),className:"p-2 -ml-2","data-matrix-id":"src/pages/CookingConsole.tsx:217:8","data-matrix-name":"button","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"217","data-component-file":"CookingConsole.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20-ml-2%22%7D",children:t.jsx(at,{className:"w-5 h-5","data-matrix-id":"src/pages/CookingConsole.tsx:218:10","data-matrix-name":"ArrowLeft","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"218","data-component-file":"CookingConsole.tsx","data-component-name":"ArrowLeft","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})}),t.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/CookingConsole.tsx:220:8","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"220","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[t.jsx("h1",{className:"text-heading-md","data-matrix-id":"src/pages/CookingConsole.tsx:221:10","data-matrix-name":"h1","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"221","data-component-file":"CookingConsole.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-heading-md%22%7D",children:"Smart Chef"}),t.jsx("p",{className:"text-caption text-neutral-400","data-matrix-id":"src/pages/CookingConsole.tsx:222:10","data-matrix-name":"p","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"222","data-component-file":"CookingConsole.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-caption%20text-neutral-400%22%7D",children:s.name})]}),t.jsx("button",{onClick:()=>S(!g),className:`p-2 rounded-full ${g?"bg-primary-500":"bg-neutral-700"}`,"data-matrix-id":"src/pages/CookingConsole.tsx:224:8","data-matrix-name":"button","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"224","data-component-file":"CookingConsole.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:g?t.jsx(et,{className:"w-5 h-5","data-matrix-id":"src/pages/CookingConsole.tsx:228:26","data-matrix-name":"Volume2","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"228","data-component-file":"CookingConsole.tsx","data-component-name":"Volume2","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}):t.jsx(nt,{className:"w-5 h-5","data-matrix-id":"src/pages/CookingConsole.tsx:228:60","data-matrix-name":"VolumeX","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"228","data-component-file":"CookingConsole.tsx","data-component-name":"VolumeX","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"})})]}),t.jsxs("div",{className:"px-4 py-4","data-matrix-id":"src/pages/CookingConsole.tsx:233:6","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"233","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20py-4%22%7D",children:[t.jsxs("div",{className:"flex justify-between text-body-sm mb-2","data-matrix-id":"src/pages/CookingConsole.tsx:234:8","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"234","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-body-sm%20mb-2%22%7D",children:[t.jsx("span",{"data-matrix-id":"src/pages/CookingConsole.tsx:235:10","data-matrix-name":"span","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"235","data-component-file":"CookingConsole.tsx","data-component-name":"span",children:"烹饪进度"}),t.jsxs("span",{"data-matrix-id":"src/pages/CookingConsole.tsx:236:10","data-matrix-name":"span","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"236","data-component-file":"CookingConsole.tsx","data-component-name":"span",children:[Math.round(P),"%"]})]}),t.jsx("div",{className:"h-2 bg-neutral-700 rounded-full overflow-hidden","data-matrix-id":"src/pages/CookingConsole.tsx:238:8","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"238","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-2%20bg-neutral-700%20rounded-full%20overflow-hidden%22%7D",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400 transition-all duration-500",style:{width:`${P}%`},"data-matrix-id":"src/pages/CookingConsole.tsx:239:10","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"239","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22h-full%20bg-gradient-to-r%20from-primary-500%20to-primary-400%20transition-all%20duration-500%22%2C%22style%22%3A%7B%22width%22%3A%22%5BTemplateLiteral%5D%22%7D%7D"})}),t.jsxs("div",{className:"flex justify-between text-caption text-neutral-400 mt-1","data-matrix-id":"src/pages/CookingConsole.tsx:244:8","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"244","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20text-caption%20text-neutral-400%20mt-1%22%7D",children:[t.jsxs("span",{"data-matrix-id":"src/pages/CookingConsole.tsx:245:10","data-matrix-name":"span","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"245","data-component-file":"CookingConsole.tsx","data-component-name":"span",children:["已用 ",k," 分钟"]}),t.jsxs("span",{"data-matrix-id":"src/pages/CookingConsole.tsx:246:10","data-matrix-name":"span","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"246","data-component-file":"CookingConsole.tsx","data-component-name":"span",children:["剩余 ",U," 分钟"]})]})]}),t.jsxs("div",{className:"px-4 py-2 grid grid-cols-2 gap-4","data-matrix-id":"src/pages/CookingConsole.tsx:251:6","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"251","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20py-2%20grid%20grid-cols-2%20gap-4%22%7D",children:[t.jsx(A,{variant:"elevated",className:`bg-neutral-800 ${d.left.active?"ring-2 ring-orange-500":""}`,"data-matrix-id":"src/pages/CookingConsole.tsx:253:8","data-matrix-name":"Card","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"253","data-component-file":"CookingConsole.tsx","data-component-name":"Card","data-component-content":"%7B%22variant%22%3A%22elevated%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/CookingConsole.tsx:254:10","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"254","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[t.jsx("div",{className:`w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-3 ${d.left.active?"bg-orange-500/20":"bg-neutral-700"}`,"data-matrix-id":"src/pages/CookingConsole.tsx:255:12","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"255","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.jsx(q,{className:`w-8 h-8 ${d.left.active?"text-orange-500 animate-pulse":"text-neutral-500"}`,"data-matrix-id":"src/pages/CookingConsole.tsx:258:14","data-matrix-name":"Flame","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"258","data-component-file":"CookingConsole.tsx","data-component-name":"Flame","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"})}),t.jsx("h3",{className:"text-heading-sm mb-1","data-matrix-id":"src/pages/CookingConsole.tsx:260:12","data-matrix-name":"h3","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"260","data-component-file":"CookingConsole.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-heading-sm%20mb-1%22%7D",children:"左灶"}),d.left.active?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-body-sm text-primary-400","data-matrix-id":"src/pages/CookingConsole.tsx:263:16","data-matrix-name":"p","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"263","data-component-file":"CookingConsole.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-body-sm%20text-primary-400%22%7D",children:d.left.recipeName}),t.jsx("p",{className:"text-caption text-neutral-400","data-matrix-id":"src/pages/CookingConsole.tsx:264:16","data-matrix-name":"p","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"264","data-component-file":"CookingConsole.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-caption%20text-neutral-400%22%7D",children:(R=d.left.currentTask)==null?void 0:R.name}),t.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-orange-400","data-matrix-id":"src/pages/CookingConsole.tsx:265:16","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"265","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-2%20flex%20items-center%20justify-center%20gap-1%20text-orange-400%22%7D",children:[t.jsx(z,{className:"w-4 h-4","data-matrix-id":"src/pages/CookingConsole.tsx:266:18","data-matrix-name":"Timer","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"266","data-component-file":"CookingConsole.tsx","data-component-name":"Timer","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),t.jsx("span",{className:"text-number-md","data-matrix-id":"src/pages/CookingConsole.tsx:267:18","data-matrix-name":"span","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"267","data-component-file":"CookingConsole.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-number-md%22%7D",children:d.left.remainingTime}),t.jsx("span",{className:"text-caption","data-matrix-id":"src/pages/CookingConsole.tsx:268:18","data-matrix-name":"span","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"268","data-component-file":"CookingConsole.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-caption%22%7D",children:"分钟"})]})]}):t.jsx("p",{className:"text-caption text-neutral-500","data-matrix-id":"src/pages/CookingConsole.tsx:272:14","data-matrix-name":"p","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"272","data-component-file":"CookingConsole.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-caption%20text-neutral-500%22%7D",children:"空闲中"})]})}),t.jsx(A,{variant:"elevated",className:`bg-neutral-800 ${d.right.active?"ring-2 ring-orange-500":""}`,"data-matrix-id":"src/pages/CookingConsole.tsx:278:8","data-matrix-name":"Card","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"278","data-component-file":"CookingConsole.tsx","data-component-name":"Card","data-component-content":"%7B%22variant%22%3A%22elevated%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/CookingConsole.tsx:279:10","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"279","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[t.jsx("div",{className:`w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-3 ${d.right.active?"bg-orange-500/20":"bg-neutral-700"}`,"data-matrix-id":"src/pages/CookingConsole.tsx:280:12","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"280","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.jsx(q,{className:`w-8 h-8 ${d.right.active?"text-orange-500 animate-pulse":"text-neutral-500"}`,"data-matrix-id":"src/pages/CookingConsole.tsx:283:14","data-matrix-name":"Flame","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"283","data-component-file":"CookingConsole.tsx","data-component-name":"Flame","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"})}),t.jsx("h3",{className:"text-heading-sm mb-1","data-matrix-id":"src/pages/CookingConsole.tsx:285:12","data-matrix-name":"h3","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"285","data-component-file":"CookingConsole.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-heading-sm%20mb-1%22%7D",children:"右灶"}),d.right.active?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-body-sm text-primary-400","data-matrix-id":"src/pages/CookingConsole.tsx:288:16","data-matrix-name":"p","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"288","data-component-file":"CookingConsole.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-body-sm%20text-primary-400%22%7D",children:d.right.recipeName}),t.jsx("p",{className:"text-caption text-neutral-400","data-matrix-id":"src/pages/CookingConsole.tsx:289:16","data-matrix-name":"p","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"289","data-component-file":"CookingConsole.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-caption%20text-neutral-400%22%7D",children:(V=d.right.currentTask)==null?void 0:V.name}),t.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-orange-400","data-matrix-id":"src/pages/CookingConsole.tsx:290:16","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"290","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-2%20flex%20items-center%20justify-center%20gap-1%20text-orange-400%22%7D",children:[t.jsx(z,{className:"w-4 h-4","data-matrix-id":"src/pages/CookingConsole.tsx:291:18","data-matrix-name":"Timer","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"291","data-component-file":"CookingConsole.tsx","data-component-name":"Timer","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),t.jsx("span",{className:"text-number-md","data-matrix-id":"src/pages/CookingConsole.tsx:292:18","data-matrix-name":"span","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"292","data-component-file":"CookingConsole.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-number-md%22%7D",children:d.right.remainingTime}),t.jsx("span",{className:"text-caption","data-matrix-id":"src/pages/CookingConsole.tsx:293:18","data-matrix-name":"span","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"293","data-component-file":"CookingConsole.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-caption%22%7D",children:"分钟"})]})]}):t.jsx("p",{className:"text-caption text-neutral-500","data-matrix-id":"src/pages/CookingConsole.tsx:297:14","data-matrix-name":"p","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"297","data-component-file":"CookingConsole.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-caption%20text-neutral-500%22%7D",children:"空闲中"})]})})]}),t.jsxs("div",{className:"px-4 py-3","data-matrix-id":"src/pages/CookingConsole.tsx:304:6","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"304","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%22%7D",children:[t.jsx("h2",{className:"text-heading-sm mb-3","data-matrix-id":"src/pages/CookingConsole.tsx:305:8","data-matrix-name":"h2","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"305","data-component-file":"CookingConsole.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-heading-sm%20mb-3%22%7D",children:"当前任务"}),t.jsx("div",{className:"space-y-2","data-matrix-id":"src/pages/CookingConsole.tsx:306:8","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"306","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:(s.scheduled_dishes||[]).map((e,n)=>t.jsx(A,{variant:"elevated",className:`bg-neutral-800 ${e.status==="cooking"?"border-l-4 border-primary-500":""}`,"data-matrix-id":"src/pages/CookingConsole.tsx:308:12","data-matrix-name":"Card","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"308","data-component-file":"CookingConsole.tsx","data-component-name":"Card","data-component-content":"%7B%22variant%22%3A%22elevated%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.jsxs("div",{className:"flex items-center gap-3","data-matrix-id":"src/pages/CookingConsole.tsx:313:14","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"313","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${e.status==="completed"?"bg-semantic-success/20":e.status==="cooking"?"bg-primary-500/20":"bg-neutral-700"}`,"data-matrix-id":"src/pages/CookingConsole.tsx:314:16","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"314","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:t.jsx(ot,{className:`w-5 h-5 ${e.status==="completed"?"text-semantic-success":e.status==="cooking"?"text-primary-400":"text-neutral-500"}`,"data-matrix-id":"src/pages/CookingConsole.tsx:319:18","data-matrix-name":"ChefHat","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"319","data-component-file":"CookingConsole.tsx","data-component-name":"ChefHat","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"})}),t.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/CookingConsole.tsx:325:16","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"325","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[t.jsx("h3",{className:"text-body-sm","data-matrix-id":"src/pages/CookingConsole.tsx:326:18","data-matrix-name":"h3","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"326","data-component-file":"CookingConsole.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-body-sm%22%7D",children:e.recipeName}),t.jsxs("p",{className:"text-caption text-neutral-500","data-matrix-id":"src/pages/CookingConsole.tsx:327:18","data-matrix-name":"p","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"327","data-component-file":"CookingConsole.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-caption%20text-neutral-500%22%7D",children:[e.equipment==="left"?"左灶":"右灶"," - ",e.duration,"分钟"]})]}),t.jsx("span",{className:`px-2 py-1 rounded text-caption ${e.status==="completed"?"bg-semantic-success/20 text-semantic-success":e.status==="cooking"?"bg-primary-500/20 text-primary-400":"bg-neutral-700 text-neutral-400"}`,"data-matrix-id":"src/pages/CookingConsole.tsx:331:16","data-matrix-name":"span","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"331","data-component-file":"CookingConsole.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:e.status==="completed"?"已完成":e.status==="cooking"?"烹饪中":"等待中"})]})},n))})]}),a.supported&&t.jsx("div",{className:"px-4 py-3","data-matrix-id":"src/pages/CookingConsole.tsx:346:8","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"346","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%22%7D",children:t.jsx(A,{variant:"elevated",className:"bg-neutral-800","data-matrix-id":"src/pages/CookingConsole.tsx:347:10","data-matrix-name":"Card","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"347","data-component-file":"CookingConsole.tsx","data-component-name":"Card","data-component-content":"%7B%22variant%22%3A%22elevated%22%2C%22className%22%3A%22bg-neutral-800%22%7D",children:t.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/CookingConsole.tsx:348:12","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"348","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[t.jsxs("div",{"data-matrix-id":"src/pages/CookingConsole.tsx:349:14","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"349","data-component-file":"CookingConsole.tsx","data-component-name":"div",children:[t.jsx("h3",{className:"text-heading-sm","data-matrix-id":"src/pages/CookingConsole.tsx:350:16","data-matrix-name":"h3","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"350","data-component-file":"CookingConsole.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-heading-sm%22%7D",children:"语音控制"}),t.jsx("p",{className:"text-caption text-neutral-400","data-matrix-id":"src/pages/CookingConsole.tsx:351:16","data-matrix-name":"p","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"351","data-component-file":"CookingConsole.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-caption%20text-neutral-400%22%7D",children:a.isListening?"正在听...":a.transcript||"点击麦克风说话"})]}),t.jsx("button",{onClick:a.isListening?a.stopListening:a.startListening,className:`w-14 h-14 rounded-full flex items-center justify-center transition-all ${a.isListening?"bg-semantic-error animate-pulse":"bg-primary-500"}`,"data-matrix-id":"src/pages/CookingConsole.tsx:355:14","data-matrix-name":"button","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"355","data-component-file":"CookingConsole.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BConditionalExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:a.isListening?t.jsx(st,{className:"w-6 h-6","data-matrix-id":"src/pages/CookingConsole.tsx:363:37","data-matrix-name":"MicOff","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"363","data-component-file":"CookingConsole.tsx","data-component-name":"MicOff","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%22%7D"}):t.jsx(it,{className:"w-6 h-6","data-matrix-id":"src/pages/CookingConsole.tsx:363:70","data-matrix-name":"Mic","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"363","data-component-file":"CookingConsole.tsx","data-component-name":"Mic","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%22%7D"})})]})})}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-neutral-900 border-t border-neutral-800 p-4","data-matrix-id":"src/pages/CookingConsole.tsx:371:6","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"371","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20bottom-0%20left-0%20right-0%20bg-neutral-900%20border-t%20border-neutral-800%20p-4%22%7D",children:t.jsx("div",{className:"flex items-center gap-3","data-matrix-id":"src/pages/CookingConsole.tsx:372:8","data-matrix-name":"div","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"372","data-component-file":"CookingConsole.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-3%22%7D",children:s.status==="pending"?t.jsxs("button",{onClick:F,className:"flex-1 bg-primary-500 text-white py-4 rounded-xl flex items-center justify-center gap-2 text-heading-sm","data-matrix-id":"src/pages/CookingConsole.tsx:374:12","data-matrix-name":"button","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"374","data-component-file":"CookingConsole.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20bg-primary-500%20text-white%20py-4%20rounded-xl%20flex%20items-center%20justify-center%20gap-2%20text-heading-sm%22%7D",children:[t.jsx(O,{className:"w-6 h-6","data-matrix-id":"src/pages/CookingConsole.tsx:378:14","data-matrix-name":"Play","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"378","data-component-file":"CookingConsole.tsx","data-component-name":"Play","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%22%7D"}),"开始烹饪"]}):s.status==="cooking"?t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:m?H:M,className:`flex-1 py-4 rounded-xl flex items-center justify-center gap-2 text-heading-sm ${m?"bg-primary-500":"bg-neutral-700"}`,"data-matrix-id":"src/pages/CookingConsole.tsx:383:14","data-matrix-name":"button","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"383","data-component-file":"CookingConsole.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BConditionalExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[m?t.jsx(O,{className:"w-5 h-5","data-matrix-id":"src/pages/CookingConsole.tsx:389:28","data-matrix-name":"Play","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"389","data-component-file":"CookingConsole.tsx","data-component-name":"Play","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}):t.jsx(ct,{className:"w-5 h-5","data-matrix-id":"src/pages/CookingConsole.tsx:389:59","data-matrix-name":"Pause","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"389","data-component-file":"CookingConsole.tsx","data-component-name":"Pause","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),m?"继续":"暂停"]}),t.jsxs("button",{onClick:_,className:"flex-1 bg-neutral-700 py-4 rounded-xl flex items-center justify-center gap-2 text-heading-sm","data-matrix-id":"src/pages/CookingConsole.tsx:392:14","data-matrix-name":"button","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"392","data-component-file":"CookingConsole.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20bg-neutral-700%20py-4%20rounded-xl%20flex%20items-center%20justify-center%20gap-2%20text-heading-sm%22%7D",children:[t.jsx(mt,{className:"w-5 h-5","data-matrix-id":"src/pages/CookingConsole.tsx:396:16","data-matrix-name":"SkipForward","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"396","data-component-file":"CookingConsole.tsx","data-component-name":"SkipForward","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%22%7D"}),"下一步"]}),t.jsx("button",{onClick:X,className:"flex-1 bg-semantic-success py-4 rounded-xl flex items-center justify-center gap-2 text-heading-sm","data-matrix-id":"src/pages/CookingConsole.tsx:399:14","data-matrix-name":"button","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"399","data-component-file":"CookingConsole.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%20bg-semantic-success%20py-4%20rounded-xl%20flex%20items-center%20justify-center%20gap-2%20text-heading-sm%22%7D",children:"完成"})]}):t.jsx("button",{onClick:()=>h("/cooking"),className:"flex-1 bg-primary-500 text-white py-4 rounded-xl text-heading-sm","data-matrix-id":"src/pages/CookingConsole.tsx:407:12","data-matrix-name":"button","data-component-path":"src/pages/CookingConsole.tsx","data-component-line":"407","data-component-file":"CookingConsole.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex-1%20bg-primary-500%20text-white%20py-4%20rounded-xl%20text-heading-sm%22%7D",children:"返回"})})})]})}export{gt as default};
